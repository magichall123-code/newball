<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Balle Éponge – Version 100% autonome</title>
  <meta name="theme-color" content="#0f172a">
  <style>
    html,body{height:100%;margin:0}
    body{
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
      background: radial-gradient(1200px 1200px at 50% -20%, #1f2937, #0f172a 60%);
      color:#fff;
      -webkit-touch-callout:none;
      -webkit-user-select:none;
      user-select:none;
      display:flex;flex-direction:column;
    }
    header,footer{padding:12px 16px}
    header{display:flex;align-items:center;justify-content:space-between}
    header h1{font-size:16px;margin:0;font-weight:700;letter-spacing:.3px}
    header button{font-size:12px;padding:6px 10px;border-radius:10px;background:rgba(255,255,255,.12);color:#fff;border:0}
    #play{flex:1;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
    #hint{position:absolute;top:16px;left:50%;transform:translateX(-50%);font-size:12px;color:rgba(255,255,255,.8)}
    #wrap{transition:opacity .18s ease, transform .18s ease; will-change: opacity, transform;}
    #wrap.hidden{opacity:0;transform:scale(.92);pointer-events:none}
    .ball{display:block;height:54vmin;width:54vmin;max-height:420px;max-width:420px}
    .shadow{position:absolute;bottom:12vh;height:64px;width:180px;border-radius:100px;background:rgba(0,0,0,.45);filter: blur(24px);opacity:.75;pointer-events:none}
    footer{font-size:11px;color:rgba(255,255,255,.75);text-align:center}
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
  </style>
</head>
<body>
  <main id="app" style="display:flex;flex:1;flex-direction:column">
    <header>
      <h1>Balle Éponge</h1>
      <button id="helpBtn" type="button">Aide</button>
    </header>

    <section id="play" aria-live="polite">
      <div id="hint">Touchez l'écran pour faire apparaître / disparaître</div>

      <!-- WRAP contient la balle. Toggle = on/off -->
      <div id="wrap" aria-hidden="false">
        <!-- Balle éponge intégrée en SVG vectoriel (texture + relief) -->
        <svg class="ball" viewBox="0 0 600 600" role="img" aria-label="Balle éponge rouge">
          <defs>
            <!-- Dégradé principal (éclairage) -->
            <radialGradient id="ballGrad" cx="40%" cy="35%" r="60%">
              <stop offset="0%" stop-color="#ff5858"/>
              <stop offset="55%" stop-color="#e11d1d"/>
              <stop offset="100%" stop-color="#b40f0f"/>
            </radialGradient>
            <!-- Légère bavure/pores avec bruit -->
            <filter id="spongeNoise" x="-20%" y="-20%" width="140%" height="140%">
              <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" stitchTiles="stitch"/>
              <feColorMatrix type="saturate" values="0"/>
              <feComponentTransfer><feFuncA type="table" tableValues="0 0.05"/></feComponentTransfer>
            </filter>
            <!-- Lueur douce sur le bord supérieur gauche -->
            <radialGradient id="sheen" cx="34%" cy="28%" r="32%">
              <stop offset="0%" stop-color="#ffd4d4" stop-opacity="0.55"/>
              <stop offset="60%" stop-color="#ffd4d4" stop-opacity="0.0"/>
            </radialGradient>
          </defs>
          <!-- Ombre portée subtile par filtre externe simulée via drop-shadow CSS -->
          <!-- Corps de la balle -->
          <circle cx="300" cy="300" r="260" fill="url(#ballGrad)"/>
          <!-- Texture de pores -->
          <circle cx="300" cy="300" r="260" filter="url(#spongeNoise)" opacity=".35"/>
          <!-- Lueur -->
          <ellipse cx="240" cy="210" rx="120" ry="85" fill="url(#sheen)"/>
        </svg>
      </div>

      <div class="shadow"></div>
      <span class="sr-only">Touchez n'importe où pour basculer la visibilité de la balle.</span>
    </section>

    <footer>
      Tap = toggle · 100% mobile · Fichier autonome (aucune ressource externe).
    </footer>
  </main>

  <script>
    (function(){
      const app  = document.getElementById('app');
      const play = document.getElementById('play');
      const wrap = document.getElementById('wrap');
      const hint = document.getElementById('hint');

      function toggle(){ wrap.classList.toggle('hidden'); wrap.setAttribute('aria-hidden', wrap.classList.contains('hidden') ? 'true' : 'false'); }
      function first(){ hint.style.display='none'; play.removeEventListener('click', first); play.removeEventListener('touchend', first); }

      // Tap / Click n'importe où dans la zone de jeu
      play.addEventListener('click', toggle);
      play.addEventListener('touchend', function(e){ e.preventDefault(); toggle(); }, {passive:false});

      // Masquer le hint après 1re interaction
      play.addEventListener('click', first, {once:true});
      play.addEventListener('touchend', first, {once:true});

      // Aide
      document.getElementById('helpBtn').addEventListener('click', function(){
        alert('Appuyez n\\'importe où pour faire disparaître / réapparaître la balle.\\n\\nFichier 100% autonome : aucun import d\\'image ou de bibliothèque nécessaire. Vous pouvez le publier tel quel (ex. GitHub Pages).');
      });
    })();
  </script>
</body>
</html>
